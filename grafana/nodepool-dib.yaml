#
# NOTE: This file is autogenerated.  Use ./create-nodepool-dib.sh to
# recreate it
#

dashboard:
  title: 'Nodepool: DIB Status'
  time:
    from: "now-7d"
    to: "now"
  rows:
    - title: Description
      height: 100px
      panels:
        - title: Description
          content: |
            **This dashboard is managed by [Grafyaml](https://docs.openstack.org/infra/system-config/grafyaml.html).**

            If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/branch/master/grafana/afs.yaml).
          type: text

# AUTOGENERATED : Ubuntu Focal

    - title: Ubuntu Focal
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-focal.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-focal.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-focal.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-focal.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Bionic

    - title: Ubuntu Bionic
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-bionic.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-bionic.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Xenial

    - title: Ubuntu Xenial
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-xenial.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-xenial.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-xenial.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-xenial.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 7

    - title: Centos 7
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-7.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-7.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-7.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-7.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 8

    - title: Centos 8
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 8 Stream

    - title: Centos 8 Stream
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-stream.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-stream.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8-stream.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8-stream.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 9 Stream

    - title: Centos 9 Stream
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-9-stream.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-9-stream.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-9-stream.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-9-stream.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Fedora 35

    - title: Fedora 35
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.fedora-35.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.fedora-35.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.fedora-35.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.fedora-35.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Bullseye

    - title: Debian Bullseye
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-bullseye.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-bullseye.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-bullseye.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-bullseye.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Buster

    - title: Debian Buster
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-buster.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-buster.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-buster.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-buster.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Gentoo

    - title: Gentoo
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.gentoo-17-0-systemd.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.gentoo-17-0-systemd.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.gentoo-17-0-systemd.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.gentoo-17-0-systemd.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : openSUSE 15.1

    - title: openSUSE 15.1
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.opensuse-15.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.opensuse-15.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-15.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-15.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 8 arm64

    - title: Centos 8 arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8-arm64.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Centos 8-stream arm64

    - title: Centos 8-stream arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-stream-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.centos-8-stream-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8-stream-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8-stream-arm64.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Bullseye arm64

    - title: Debian Bullseye arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-bullseye-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-bullseye-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-bullseye-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-bullseye-arm64.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Debian Buster arm64

    - title: Debian Buster arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-buster-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.debian-buster-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-buster-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-buster-arm64.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Focal arm64

    - title: Ubuntu Focal arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-focal-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-focal-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-focal-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-focal-arm64.status.duration.mean, 'None'), "Time")
              refId: A
# AUTOGENERATED : Ubuntu Bionic arm64

    - title: Ubuntu Bionic arm64
      showTitle: true
      height: 200px
      panels:
        - title: Build status
          colorBackground: true
          type: singlestat
          valueName: current
          valueMaps:
            - value: 0
              text: "OK"
            - value: 1
              text: "FAILED"
          thresholds: 0.1,0.9
          span: 2
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic-arm64.status.rc"
          valueFontSize: "50%"

        - title: Last build
          type: singlestat
          span: 2
          format: dateTimeFromNow
          targets:
            - target: "stats.gauges.nodepool.dib_image_build.ubuntu-bionic-arm64.status.last_build"
          valueFontSize: "50%"

        - title: Image size
          type: graph
          span: 3
          yaxes:
            - format: decbytes
              min: 0
            - format: decbytes
              min: 0
          targets:
            - target: aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-bionic-arm64.*.size, 5)
              refId: A

        - title: Build duration
          type: graph
          span: 3
          yaxes:
            - format: ms
              min: 0
            - format: ms
              min: 0
          targets:
            - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-bionic-arm64.status.duration.mean, 'None'), "Time")
              refId: A
